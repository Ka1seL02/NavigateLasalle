<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigate La Salle | Dashboard</title>
    <!-- Styles -->
    <link rel="stylesheet" href="../css/root.css">
    <link rel="stylesheet" href="../css/admin_common.css">
    <link rel="stylesheet" href="../css/admin_news.css">
    <!-- Boxicons -->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
</head>

<body>
    <!-- Sidebar -->
    <nav></nav>

    <main>
        <div class="top-accent"></div>

        <!-- Page Header -->
        <div class="page-header">
            <h2>News Manager</h2>
            <p>Manage your uploaded news. You can add, view, or delete news articles.</p>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- News Tab -->
            <div class="news-toolbar">
                <input type="text" placeholder="Search news...">
                <select name="tags">
                    <option value="">All Tags</option>
                    <option value="announcement">Announcement</option>
                    <option value="event">Event</option>
                </select>
                <button id="open-add-news-modal-btn">Upload News</button>
            </div>

            <!-- News List -->
            <div class="news-list">
                <!-- Sample News -->
                <!-- Each news item will be dynamically inserted here -->
                <div class="news-list-item">
                    <div class="news-image">
                        <img src="../img/about_our-dlsud1.jpg" alt="News Image">
                    </div>
                    <div class="news-details">
                        <h3 class="news-title">News Title 1</h3>
                        <p class="news-lead">News Lead 1</p>
                        <p class="news-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                            lacinia odio vitae vestibulum.Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                            Vivamus lacinia odio vitae vestibulum.Lorem ipsum dolor sit amet, consectetur adipiscing
                            elit. Vivamus lacinia odio vitae vestibulum.Lorem ipsum dolor sit amet, consectetur
                            adipiscing elit. Vivamus lacinia odio vitae vestibulum.</p>
                        <p class="news-date">Published on: 2023-10-01</p>
                        <p class="news-tags">Tags: <span class="tag">Announcement</span> <span class="tag">Event</span>
                        </p>
                    </div>
                    <div class="news-actions">
                        <button id="edit-btn"><i class="bx bxs-edit"></i></button>
                        <button id="delete-btn"><i class="bx bx-trash-alt"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add News Modal -->
        <div class="modal" id="add-news-modal">
            <div class="modal-content">
                <span class="close-btn"><i class="bx bx-x"></i></span>
                <h2>Upload News</h2>
                <p>Fill in the details below to upload a new news article.</p>

                <form id="add-news-form">
                    <!-- Image Upload Section -->
                    <div class="img-section">
                        <div class="upload-area" id="drop-area">
                            <i class="bx bxs-cloud-upload"></i>
                            <p>Drag files here to upload</p>
                            <input type="file" id="file-upload" name="file-upload" multiple accept="image/*">
                        </div>
                    </div>

                    <!-- Detail Section -->
                    <div class="detail-section">
                        <div class="form-row">
                            <label class="field-label" for="title">Title:</label>
                            <div class="field-input">
                                <input type="text" id="add-news" name="title" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <label class="field-label" for="lead">Lead:</label>
                            <div class="field-input">
                                <textarea id="add-lead" name="lead" required></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <label class="field-label" for="tags">Tag:</label>
                            <div class="field-input">
                                <select id="add-tags" name="tags" required>
                                    <option value="">Select Tag</option>
                                    <option value="announcement">Announcement</option>
                                    <option value="event">Event</option>
                                    <option value="news">News</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <label class="field-label" for="description">Description:</label>
                            <div class="field-input">
                                <textarea id="add-description" name="description" required></textarea>
                            </div>
                        </div>

                        <!-- Buttons -->
                        <div class="button-row">
                            <button type="submit" id="upload-news-btn">Upload News</button>
                            <button type="button" class="cancel-btn">Cancel</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- Edit News Modal -->
        <div class="bottom-accent"></div>
    </main>
</body>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('sidebar.html')
            .then(response => response.text())
            .then(data => {
                document.querySelector('nav').innerHTML = data;

                // After sidebar is loaded, set active link
                const page = location.pathname.split('/').pop();
                document.querySelectorAll('.nav-menu a').forEach(link => {
                    if (link.getAttribute('href') === page) {
                        link.classList.add('active');
                    }
                });
            });

        // Get modal elements
        const addNewsModal = document.getElementById('add-news-modal');

        // Open Add News Modal
        document.getElementById('open-add-news-modal-btn').addEventListener('click', () => {
            addNewsModal.classList.add('active');
        });

        // Close modal
        document.querySelectorAll('.close-btn, .cancel-btn').forEach(button => {
            button.addEventListener('click', () => {
                addNewsModal.classList.remove('active');
            });
        });
    });
</script>

</html>